/*
 * functions.c
 *
 *  Created on: Mar 4, 2019
 *      Author: Sergaljerk
 */

#include "functions.h"

void enableLEDS(int ledID)
{
	*LED_BASEADDR = ledID; //enable leds at the indicated bit.
}
void disableLEDS(int ledID)
{
	*LED_BASEADDR = *LED_BASEADDR - ledID;
}
void toggleLEDS(int ledID)
{
	*LED_BASEADDR = *LED_BASEADDR ^ ledID; //XOR with bitmask for toggle
}

void demoLEDS()
{
	int i = 0;
	*(LED_BASEADDR + 1) = 0x00; //LEDS ARE OFF
	while(1)
	{
		*(LED_BASEADDR + 1) = ~(*(LED_BASEADDR + 1)); //FLIP VALUE

		for(i = 0; i <10000000; i++)
		{
			;
		}
	}
}

void shiftLEDS()
{
	int i = 0;
	int count = 1;
	*LED_BASEADDR = count;
	while(1)
	{

		for(i = 0; i <10000000; i++)
		{
			;
		}

		count = count << 1;
		if(count == 16)
		{
			count = count >> 2;
			*LED_BASEADDR = count;
			while(1)
			{


				for(i = 0; i <10000000; i++)
				{
					;
				}
				count = count >> 1;
				if(count == 1)
				{
					*LED_BASEADDR = count;
					break;
				}
				else
				{
					*LED_BASEADDR = count;
				}
			}

		}
		else
		{
			*LED_BASEADDR = count;
		}
	}
}
void enableRGBS(int ledID)
{
	*RGB_BASEADDR = ledID;
	*(RGB_BASEADDR + 1)= 0;
	*(RGB_BASEADDR + 2)= 0;
	*(RGB_BASEADDR + 3)= 0;
	*(RGB_BASEADDR + 4)= 0;
}
void disableRGBS(int ledID)
{
	*RGB_BASEADDR = *RGB_BASEADDR - ledID;
}
void toggleRGBS(int led0_ID,int led1_ID,int led2_ID,int led3_ID)
{
	*(RGB_BASEADDR + 1)= *(RGB_BASEADDR + 1) ^ led0_ID;
	*(RGB_BASEADDR + 2)= *(RGB_BASEADDR + 2) ^ led1_ID;
	*(RGB_BASEADDR + 3)= *(RGB_BASEADDR + 3) ^ led2_ID;
	*(RGB_BASEADDR + 4)= *(RGB_BASEADDR + 4) ^ led3_ID;
}
void demoRGBS()
{
	toggleRGBS(1,2,4,8);
}
